$(document).ready(function(){$("[data-accordeon]").on("click",function(e){e.preventDefault(),$(this).parent(".dropdown").closest(".hasChildren").slideToggle(slow),console.log("click")})});var Navigation=React.createClass({displayName:"Navigation",getInitialState:function(){return{data:[],selected:""}},componentDidMount:function(){function e(a,t){if(!a)return null;if(a.Selected=a.Id==t,a.Selected)return a.Selected=!0,a;if(!a.Nodes||!a.Nodes.length)return null;for(var n=0;n<a.Nodes.length;n++){var d=a.Nodes[n],o=e(d,t);if(o)return a.Expanded=!0,o}return null}$.getJSON(this.props.source,function(a){if(this.isMounted()){this.setState({data:a});var t=decodeURIComponent(location.search.split("myParam=")[1]),n=this;this.setState({selected:t}),$.each(this.state.data,function(a,t){var d=e(t,n.state.selected);d&&(d.Expanded=!0)}),this.setState({data:this.state.data}),console.dir(this.state.data)}}.bind(this))},openChild:function(e){e.preventDefault();var a=e.target;$(a).hasClass("opened")?($(a).removeClass("opened"),$(a).children(".hasChildren").slideUp("fast")):($(a).addClass("opened"),$(a).children(".hasChildren").slideDown("fast"))},registerBookmark:function(e){e.preventDefault(),console.log("Bookmarked")},eachItem:function(e,a){return 0!=e.Nodes.length?React.createElement("li",{key:a,index:a,className:a===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,onCLick:"",className:e.Selected},e.Name),React.createElement("ul",{className:"hasChildren","data-expanded":e.Expanded},React.createElement(NavigationTree,{data:e.Nodes}))):React.createElement("li",{key:a,index:a,className:a===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("a",{href:"","data-bookmark":e.Bookmarked,onClick:this.registerBookmark},React.createElement("i",{className:"fa fa-bookmark-o"})))},render:function(){return React.createElement("ul",{className:"componentWrapper"},this.state.data.map(this.eachItem))}}),NavigationTree=React.createClass({displayName:"NavigationTree",getInitialState:function(){return{data:[]}},componentDidMount:function(){this.setState({data:this.props.data})},eachItem:function(e,a){if(0!=e.Nodes.length){e.Nodes;return React.createElement("li",{key:a,index:a,className:a===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("ul",{className:"hasChildren","data-expanded":e.Expanded},React.createElement(NavigationTree,{key:a,data:e.Nodes})))}return React.createElement("li",{key:a,index:a,className:"noIcon",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("a",{href:"","data-bookmark":e.Bookmarked,onClick:this.registerBookmark},React.createElement("i",{className:"fa fa-bookmark-o"})))},render:function(){return React.createElement("div",null,this.state.data.map(this.eachItem))}});$(function(){ReactDOM.render(React.createElement(Navigation,{source:"/Files/WebServices/Navigation.ashx"}),document.getElementById("react-navigation"))});