function replaceUrlParam(e,t,a){var n=new RegExp("\\b("+t+"=).*?(&|$)");return e.search(n)>=0?e.replace(n,"$1"+a+"$2"):e+(e.indexOf("?")>0?"&":"?")+t+"="+a}$(document).ready(function(){$("[data-accordeon]").on("click",function(e){e.preventDefault(),$(this).parent(".dropdown").closest(".hasChildren").slideToggle(slow),console.log("click")})}),window.downloadPdf=function(){$(".download-pdf").on("click",function(e){e.preventDefault();var t=$(this).parents(".form-group").find("[data-selected-value]").attr("data-selected-value");$(this).parents(".form-group").find("a").each(function(){var e=$(this).attr("data-option-value");e==t&&$("#pdfDownloadFrame").attr("src",t)})})},window.markSelected=function(e,t){if(!e)return null;if(e.Selected=e.Id==t,e.Selected)return e.Selected=!0,e;if(!e.Nodes||!e.Nodes.length)return null;for(var a=0;a<e.Nodes.length;a++){var n=e.Nodes[a],o=markSelected(n,t);if(o)return e.Expanded=!0,o}return null},window.addToFavorites=function(e){var t=e.attr("data-add-favorites");$.ajax({url:t,type:"POST"}).done(function(t){alert("sent"),e.find(".fa-heart").removeClass("fa-heart-o"),e.attr("data-favorite","true")}).fail(function(e){}).always(function(e){})},window.removeFromFavorites=function(e){var t=e.attr("data-remove-favorites");$.ajax({url:t,type:"POST"}).done(function(t){alert("sent"),e.find(".fa-heart").addClass("fa-heart-o"),e.attr("data-favorite","false")}).fail(function(e){}).always(function(e){})},window.getQueryVariable=function(e){for(var t=window.location.search.substring(1),a=t.split("&"),n=0;n<a.length;n++){var o=a[n].split("=");if(o[0]==e)return o[1]}return!1};var Navigation=React.createClass({displayName:"Navigation",getInitialState:function(){return{data:[],selected:""}},componentDidMount:function(){$.getJSON(this.props.source,function(e){this.setState({data:e});var t=getQueryVariable("bookmark");t=decodeURIComponent(t);var a=this;this.setState({selected:t}),$.each(this.state.data,function(e,t){var n=markSelected(t,a.state.selected);n&&(n.Expanded=!0)}),this.setState({data:this.state.data})}.bind(this))},openChild:function(e){e.preventDefault();var t=e.target;"true"==$(t).attr("data-expanded")?($(t).attr("data-expanded","false"),$(t).children(".hasChildren").hide()):($(t).attr("data-expanded","true"),$(t).children(".hasChildren").show())},eachItem:function(e,t){return 0!=e.Nodes.length?React.createElement("li",{key:t,index:t,className:t===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("ul",{className:"hasChildren","data-expanded":e.Expanded},React.createElement(NavigationTree,{data:e.Nodes}))):React.createElement("li",{key:t,index:t,className:t===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("a",{href:"","data-bookmark":e.Bookmarked,onClick:this.registerBookmark},React.createElement("i",{className:"fa fa-bookmark-o"})))},render:function(){return React.createElement("ul",{className:"componentWrapper"},this.state.data.map(this.eachItem))}}),NavigationTree=React.createClass({displayName:"NavigationTree",getInitialState:function(){return{data:[],bookmark:""}},componentDidMount:function(){this.setState({data:this.props.data})},update:function(e){var t=$(e.target),a=t.attr("href"),n=encodeURIComponent(a),o="/Default.aspx?ID=126&groupId="+n;$(".navigation").find("a").removeClass("true"),$(".navigation").find("li").removeAttr("data-expanded"),$(this).parents("li").attr("data-expanded","true"),$(this).addClass("true"),$.ajax({url:o,type:"get"}).done(function(e){$("#pageContent").html(e),$("[data-select-downloadable] a").on("click",function(e){e.preventDefault();var t=$(this).attr("data-option-value"),a=$(this).attr("data-option-name");$(this).parents(".btn-group").find("[data-selected-value]").attr("data-selected-value",t),$(this).parents(".btn-group").find("[data-selected-name]").html(a)}),$("[data-tooltip]").tooltip(),$("[data-favorite]").on("click",function(e){e.preventDefault();var t=$(this).attr("data-favorite");"true"==t?removeFromFavorites($(this)):addToFavorites($(this))}),downloadPdf(),$(".product-list-link").on("click",function(e){e.preventDefault();var t=encodeURIComponent($(this).attr("data-group-id")),a=$(this).attr("href"),n="/Default.aspx?ID=126&groupId="+t+"&productId="+a;noty({text:"Loading content...",layout:"center",theme:"relax",animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},type:"information",timeout:!1});$.ajax({url:n,type:"get"}).done(function(e){$("#pageContent").html(e),$.noty.closeAll(),$("[data-select-downloadable] a").on("click",function(e){e.preventDefault();var t=$(this).attr("data-option-value"),a=$(this).attr("data-option-name");$(this).parents(".btn-group").find("[data-selected-value]").attr("data-selected-value",t),$(this).parents(".btn-group").find("[data-selected-name]").html(a)}),$("[data-tooltip]").tooltip(),$("[data-favorite]").on("click",function(e){e.preventDefault();var t=$(this).attr("data-favorite");"true"==t?removeFromFavorites($(this)):addToFavorites($(this))}),downloadPdf(),$(".product-list-link").on("click",function(e){e.preventDefault();var t=encodeURIComponent($(this).attr("data-group-id")),a=$(this).attr("href"),n="/Default.aspx?ID=126&groupId="+t+"&productId="+a;noty({text:"Loading content...",layout:"center",theme:"relax",animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},type:"information",timeout:!1});$.ajax({url:n,type:"get"}).done(function(e){$("#pageContent").html(e),$.noty.closeAll()}).fail(function(){}).always(function(){})}),console.log("downloadenter"),downloadPdf()}).fail(function(){}).always(function(){})})}).fail(function(){}).always(function(){})},registerBookmark:function(e){var t=$(e.target).parent("a"),a=t[0].attributes["data-bookmark"].value,n=t[0].attributes["data-group"].value,o=t[0].attributes.href.value,r=(t[0].attributes["data-index"].value,this);if("true"==a){var i="/Files/WebServices/Bookmarks.ashx?action=delete&group="+encodeURIComponent(o);$.ajax({method:"GET",url:i,contentType:"application/json",cache:!1}).done(function(e){for(var t=0;t<r.state.data.length;t++){var a=r.state.data[t],n=a.Id;if(o==n){a.Bookmarked=!1;break}}r.setState(r.state)}).fail(function(e){})}else $.ajax({method:"POST",url:"/Files/WebServices/Bookmarks.ashx",data:JSON.stringify({Group:o,Name:n}),contentType:"application/json"}).done(function(e){for(var t=0;t<r.state.data.length;t++){var a=r.state.data[t],n=a.Id;if(o==n){a.Bookmarked=!0;break}}r.setState(r.state)}).fail(function(e){})},eachItem:function(e,t){if(0!=e.Nodes.length){e.Nodes;return React.createElement("li",{key:t,index:t,className:t===this.props.active-1?"dropdown active":"dropdown",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,className:e.Selected},e.Name),React.createElement("ul",{className:"hasChildren","data-expanded":e.Expanded},React.createElement(NavigationTree,{key:t,data:e.Nodes})))}return React.createElement("li",{key:t,index:t,className:"noIcon",onClick:this.openChild,"data-expanded":e.Expanded},React.createElement("a",{href:e.Id,onClick:this.update,index:t,"data-overflow":!0,className:e.Selected,"data-toggle":"tooltip","data-placement":"right",title:e.Name},e.Name),React.createElement("a",{href:e.Id,"data-index":t,"data-group":e.Name,"data-bookmark":e.Bookmarked,onClick:this.registerBookmark,ref:"link"},React.createElement("i",{className:"fa fa-bookmark-o"})))},render:function(){return React.createElement("div",null,this.state.data.map(this.eachItem))}}),NavigationLink=React.createClass({displayName:"NavigationLink",render:function(){return React.createElement("li",{className:"noIcon","data-expanded":this.props.expanded},React.createElement("a",{href:this.props.href,"data-overflow":!0,className:this.props.className,"data-toggle":"tooltip","data-placement":"right",title:this.props.title},this.props.title),React.createElement("a",{href:item.Id,"data-index":i,"data-group":item.Name,"data-bookmark":item.Bookmarked,onClick:this.registerBookmark,ref:"link"},React.createElement("i",{className:"fa fa-bookmark-o"})))}}),MainContent=React.createClass({displayName:"MainContent",getInitialState:function(){return{data:"",url:""}},componentWillMount:function(){var e=getQueryVariable("bookmark"),t=getQueryVariable("favorite");contentSource="",console.log(e),console.log(t),t?contentSource="/Default.aspx?ID=126&groupid="+e+"&productId="+t:e&&(contentSource="/Default.aspx?ID=126&groupid="+e),this.state.url=contentSource,console.log(this.state.url),this.setState({url:this.state.url})},componentDidMount:function(){setTimeout(function(){var e=getQueryVariable("bookmark"),t=getQueryVariable("favorite");contentSource="",t?contentSource="/Default.aspx?ID=126&groupid="+e+"&productId="+t:e&&(contentSource="/Default.aspx?ID=126&groupid="+e)},0)},renderLoadedContent:function(){return React.createElement("div",{id:"pageContent",dangerouslySetInnerHTML:{__html:this.state.data}})},renderEmptyContent:function(){return React.createElement("div",{id:"pageContent"},React.createElement("div",{className:"loading-image"}))},render:function(){return""==this.state.data?this.renderEmptyContent():this.renderLoadedContent()}}),RenderPage=React.createClass({displayName:"RenderPage",getInitialState:function(){return{catalog:"",groupId:"",productId:"",contentSource:""}},componentWillMount:function(){var e=getQueryVariable("catalog"),t="/Files/WebServices/Navigation.ashx?catalog="+e,a=getQueryVariable("bookmark"),n=getQueryVariable("favorite");contentSource="",n?contentSource="/Default.aspx?ID=126&groupid="+a+"&productId="+n:a&&(contentSource="/Default.aspx?ID=126&groupid="+a),this.setState({catalogName:e,catalog:t,groupID:a,productId:n,contentSource:contentSource})},componentDidMount:function(){console.log(this.state.catalog),console.log(this.state.contentSource),console.log(this.state.groupId),console.log(this.state.productId)},render:function(){return React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"col-sm-3"},React.createElement("div",{id:"catalogNavContainer"},React.createElement("section",{className:"catalogNavSection topSection"},React.createElement("h1",null,this.state.catalogName),React.createElement("a",{href:"/Default.aspx?ID=1",className:"btn btn-sm btn-warning pull-right"},"Select Catalog")),React.createElement("section",{className:"catalogNavSection searchSection"},React.createElement("form",{action:"/Default.aspx",id:"searchForm"},React.createElement("input",{type:"hidden",name:"ID",value:"127"}),React.createElement("input",{placeholder:"Serial #",id:"searchSubmit","data-error":"Search for something",type:"text",name:"q",value:this.props.children}),React.createElement("button",{className:"btn btn-sm btn-warning",type:"submit"},React.createElement("i",{className:"fa fa-search"})))),React.createElement("section",{className:"catalogNavSection navSection navigation"},React.createElement(Navigation,{"test-source":this.state.catalog,source:"/Files/WebServices/Navigation.ashx?catalog=jayco",onChange:this.update})))),React.createElement("div",{className:"col-sm-9"},React.createElement(MainContent,{source:this.state.contentSource})))}});$(function(){null!==document.getElementById("react-renderPage")&&ReactDOM.render(React.createElement(RenderPage,null),document.getElementById("react-renderPage"))});